<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme-color" content="#cea0f1"/>
    <meta name="description" content="Simple Tic Tac Toe PWA game">
    <meta name="keywords" content="tictactoe,pwa,PWA,game">
    <meta name="author" content="Himanshu Negi">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<title>PWA Tic Tac Toe</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
		<link rel="stylesheet" type="text/css" href="css3.css"/>
		<link rel="manifest" href="manifest.json">
		<script>
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
          .then(function(reg) {
				console.log('Service Worker Registered');
				
				reg.addEventListener('updateFound', ()=> {
					reg.installing.addEventListener('statechange', ()=> {
						if(this.state == 'installed') {
							console.log("there is a new update!!");
						}
					})
				});

				if(reg.waiting) {
					console.log("got an update!");
				}
          });
      }
    </script>
	</head>
	<body>

		<header>
			<div class="heading">
				<div class="icon_back_g">
					<div class="gearIcon" onclick="changeVisibility('controls')"></div>
				</div>
				<div class="game_status">
					<p id="game_mode"></p>
				</div>
				<div class="icon_back_o">
					<div class="onlineIcon" onclick="changeVisibility('online')"></div>
				</div>
			</div>

			<div id="controls" class="invisible">
				<div class="container">CPU
					<button class="cpu off" onclick=changeCpuState();>OFF</button>
				</div>
				<div class="container">Multiplayer
					<button class="mp off" onclick="changeMultiplayerState();">OFF</button>
				</div>
			</div>

			<div id="online" class="invisible">
				<ul id="players">
				</ul>
				<div class="refresh_btn" onclick="refreshList()"><p>REFRESH</p></div>
			</div>

		</header>

		<div class="app">
			<div class="empty_box">
					<p id="player_name"></p><p id="client_status">Status Bar</p>
			</div>
			<div id ="box">
				<canvas id = "canvas1"  width="50" height="50" onclick="canvasClicked(1)"></canvas>
				<canvas id = "canvas2"  width="50" height="50" onclick="canvasClicked(2)"></canvas>
				<canvas id = "canvas3"  width="50" height="50" onclick="canvasClicked(3)"></canvas><br/>
				<canvas id = "canvas4"  width="50" height="50" onclick="canvasClicked(4)"></canvas>
				<canvas id = "canvas5"  width="50" height="50" onclick="canvasClicked(5)"></canvas>
				<canvas id = "canvas6"  width="50" height="50" onclick="canvasClicked(6)"></canvas><br/>
				<canvas id = "canvas7"  width="50" height="50" onclick="canvasClicked(7)"></canvas>
				<canvas id = "canvas8"  width="50" height="50" onclick="canvasClicked(8)"></canvas>
				<canvas id = "canvas9"  width="50" height="50" onclick="canvasClicked(9)"></canvas>
			</div>
		</div>

		<div id="result">
				<table>
					<tr>
						<th>Player X</th>
						<th>Player O</th>
					</tr>
					<tr>
						<td id="xResult">0</td>
						<td id="oResult">0</td>
					</tr>
				</table>
		</div>

	<footer>
	    <p>made by himanshu negi</p>
	</footer>
	
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>
	<script type="text/javascript" src="script.js"></script>
	<script type="text/javascript" src="minmaxAlgo.js"></script>
	<script type="text/javascript" src="socketScript.js"></script>

	</body>
</html>

